The KudOS File Server Architecture is an experiment in increasing the
modularity, flexibility, and understandability of file system software. The KFS
architecture introduces two significant changes. First, we add a new interface
between the virtual file system and block device layers that separates the
specification of a filesystem's on-disk layout from filesystem-independent code
that operates more abstractly on disk structures to implement a complete
filesystem driver. Second, we introduce a mechanism for tracking changes to disk
blocks, and the dependencies among those changes necessary to implement various
consistency semantics (as dictated by the modules in the system). These two
changes are responsible for componentizing and simplfying common filesystem
features, such as transparent journaling, and supporting interesting new
interactions, such as RAID over loopback devices and userspace specified change
dependencies.
